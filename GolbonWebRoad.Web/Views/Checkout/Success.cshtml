@using GolbonWebRoad.Web.Models.Transactions
@model CallbackMessageViewModel
@{
    Layout = null;
    var isSuccess = Model?.PaymentStatus == true;
}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نتیجه پرداخت</title>
    <style>
        :root{--bg:#0f172a;--card:#111827;--muted:#9ca3af;--border:#374151;--ok:#10b981;--fail:#ef4444;--link:#60a5fa}
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:tahoma,Arial;background:var(--bg);color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
        .wrap{width:100%;max-width:720px}
        .card{background:var(--card);border:1px solid var(--border);padding:28px 26px}
        .head{display:flex;align-items:center;gap:14px;margin-bottom:16px}
        .icon{width:44px;height:44px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-size:20px}
        .ok{background:rgba(16,185,129,.15);color:var(--ok)}
        .fail{background:rgba(239,68,68,.15);color:var(--fail)}
        h1{font-size:20px}
        .msg{margin:6px 0 18px;color:var(--muted);line-height:1.9}
        .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin:18px 0}
        .row{display:flex;flex-direction:column;border:1px dashed var(--border);padding:12px}
        .row span{font-size:12px;color:var(--muted)}
        .row strong{margin-top:4px;font-size:14px}
        .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:20px}
        a.btn{display:inline-block;padding:10px 14px;border:1px solid var(--border);color:#fff;text-decoration:none}
        a.primary{border-color:var(--link);color:var(--link)}
        a.okbtn{border-color:var(--ok);color:var(--ok)}
        a.failbtn{border-color:var(--fail);color:var(--fail)}
        @@media (max-width:520px){.grid{grid-template-columns:1fr}}
    </style>
</head>
<body>
    <div class="wrap">
        <div class="card">
            <div class="head">
                <div class="icon @(isSuccess ? "ok" : "fail")">@(isSuccess ? "✓" : "✕")</div>
                <div>
                    <h1>@(isSuccess ? "پرداخت با موفقیت انجام شد" : "پرداخت ناموفق بود")</h1>
                    <p class="msg">@Model?.MessageTransAction</p>
                </div>
            </div>

            <div class="grid">
                <div class="row">
                    <span>شماره تراکنش</span>
                    <strong>@(string.IsNullOrWhiteSpace(Model?.TransactionId) ? "-" : Model.TransactionId)</strong>
                </div>
                <div class="row">
                    <span>کد سفارش</span>
                    <strong>@(string.IsNullOrWhiteSpace(Model?.OrderId) ? "-" : Model.OrderId)</strong>
                </div>
                <div class="row">
                    <span>وضعیت ثبت سفارش</span>
                    <strong>@(string.IsNullOrWhiteSpace(Model?.MessageCreateOrder) ? (isSuccess ? "ثبت سفارش در حال انجام" : "ثبت نشد") : Model.MessageCreateOrder)</strong>
                </div>
                <div class="row">
                    <span>وضعیت پرداخت</span>
                    <strong>@(isSuccess ? "موفق" : "ناموفق")</strong>
                </div>
            </div>

            <div class="actions">
                <a asp-controller="Home" asp-action="Index" class="btn">بازگشت به خانه</a>
                <a asp-controller="Dashboard" asp-action="Index" class="btn primary">مشاهده سفارش‌ها</a>
                <a asp-controller="Cart" asp-action="Index" class="btn @(isSuccess ? "okbtn" : "failbtn")">@(isSuccess ? "رفتن به سبد خالی" : "بازگشت به سبد")</a>
            </div>
        </div>
    </div>
</body>
</html>
</div>